# 1.86.0 - 成就子分類

## 🔖總覽

1. **成就子分類**
2. **圖片管理**
3. **番茄鍾兌換商品**
4. **統一通知渠道**
5. **Google Drive備份**
6. **比較小但實用的改進項**
7. **完整更新日誌**

<!-- more -->

---

## ✨ **成就子分類**

![](_media/186/01.png ':size=30%')

在v1.86.0中，你可以建立類似「系統成就」裡面的子分類。

在一個成就清單內再繼續劃分子類目，以便管理。

並且能夠自動統計子分類下的成就解鎖數量和總數量。



### 📝 使用方式

1. 在「新建成就」頁面即可切換類別為“子分類”。

![](_media/186/02.png ':size=30%')

2. 建立完「子分類」後，在清單頁面，**長按拖動剛建立出來的子分類**到合適的位置即可。



###  🚧 後續發展

暫定在v1.87.0版本中加入摺疊子分類的功能。

因摺疊功能還影響到排序等互動，目前還在處理中~



---

## ✨ 圖片管理

![](_media/186/03.png ':size=30%')

新版本引入了「圖片管理」功能，你可以在該頁面檢視各種類目下的自定義圖片，並執行「刪除」操作。



因為《人升》中圖片使用的場景複雜，應用有時候沒法準確判斷圖片是否要刪除而將其保留下來。

日積月累可能會導致備份檔案體積增大，進而使得備份消耗更多流量、時間，甚至降低了上傳的成功率。



> 在舊版本中，我們的措施是讓相簿能夠掃描到應用內的圖片。
>
> 後果是很多使用者不小心誤刪了這些圖片，又或者相簿不便隱藏這些圖片，導致各類問題反饋。



### 📝 使用方式

點選側邊欄-`設定`-`資料備份/恢復/清除`，劃到頁面底部點選`圖片管理`即可。



### 🚧 後續發展

**而使用圖片管理功能可以方便你在應用內管理圖片，刪除冗餘的檔案，也為我們後續的設計做了鋪墊：**

1. 使相簿不再掃描到應用內圖片**（同時在該版本上線）**
2. 將媒體檔案移動至應用內部路徑，以防被垃圾清除軟體刪除（未來版本）
3. 支援設定裁剪圖片尺寸，支援更高尺寸的圖片（未來版本，會員功能）
4. 目前似乎漏掉了成就的圖片管理（計劃下個版本補充）



---

## ✨ 番茄兌換商品

![](_media/186/04.png ':size=30%')

![](_media/186/05.png ':size=30%')

該版本新增了番茄的新用途，除了**食用獲取經驗值**、**售出獲取金幣**以外，你還可以設定**番茄兌換某件商品**。



### 📝 使用方式

在番茄頁面點選右上角設定圖示，在頁面內選擇`兌換設定`進行設定。



**推薦用法：**

- 建立一個專屬貨幣（比如叫做番茄幣）
- 設定按一定比例番茄兌換番茄幣
- **利用合成系統建立專門的番茄幣商店（合成配方）**
- 使用番茄幣獲取專屬的獎勵



---

## ✨ 統一通知渠道

![](_media/186/06.png ':size=30%')

這是個比較隱藏的最佳化點。

在新版本中，我們針對應用發出的通知做了統一最佳化。

不同的訊息渠道有著不一樣的優先順序、音效表現、振動表現等。



### 📝 使用方式

依系統有別。

一般是進入到系統的應用管理頁面，找到《人升》進入，並選擇`通知`管理。

**如上所述，你可以針對應用內的各類訊息進行不同的配置。**

**比如為任務提醒設定最高優先順序，允許振動和鈴聲，並且可以從系統級別自定義鈴聲（不需要會員）。**

![](_media/186/07.png ':size=30%')





---

## ✨ Google Drive 備份

![](_media/186/08.png ':size=30%')

新版本支援了Google Drive備份方式（需要處於特定網路條件下）。

並且我們針對Google Drive，做了各類上傳策略最佳化、退避重試演算法最佳化，並且它自身支援斷點續傳，使得在大檔案上傳的場景下有著不錯的表現：

**實測上傳30MB以內的備份檔案成功率不俗。**



> 而同等條件下，由於WebDAV的框架支援有限，很容易上傳失敗。



### 📝 使用方式

點選側邊欄-`設定`-`資料備份/恢復/清除`，點選Google Drive進行配置（其實就是谷歌賬號授權一下）。

配置成功後，可點選`備份`操作手動進行備份，或點選`恢復`按鈕從Google Drive恢復資料。



**如需配置自動雲備份，**只需要將雲備份方式切換至Google Drive即可。



### 🚧 後續發展

嘗試最佳化WebDAV上傳的成功率。



---



## ✨ 比較小但有用的改進

- 商品支援設定隨機金幣效果
- 成就支援批次複製
- 自定義退貨打折比例
- “全部”清單支援重新命名
- 負面事項支援次數統計

<br />

## ✨ 完整更新日誌

**✨特性**

1. 成就子分類：劃分類別，自動統計類目計數
2. Google Drive備份
3. 圖片管理功能（備份頁面內）
4. 商品隨機金幣效果
5. 成就批次複製
6. 計步支援多次輸入步數和多次領取獎勵
7. 番茄鍾支援設定商品兌換
8. 支援自定義退貨打折比例
9. 備份改用專屬格式（部分系統支援直接開啟匯入備份）
10. 簡易合成支援批次操作
11. 新增自定義音效選項：商品使用
12. 新增成就解鎖條件：當前ATM存款
13. 負面事項支援詳情頁面的次數統計
14. “全部”清單支援重新命名
15. 統一應用的通知渠道命名和描述

**♻️最佳化**

1. 優先排序已解鎖但未領取獎勵的成就
2. 狀態頁面的番茄今日專注時長會根據時長按小時數顯示
3. 倉庫增加商品描述顯示
4. 新帳號註冊會彈出確認對話方塊
5. 支援顯示維護公告
6. 番茄額外計時增加“跳過”的確認對話方塊
7. 支援解除安裝應用時儲存資料（需要系統支援）
8. 最佳化備份和恢復邏輯
9. 最佳化單次事項和無限事項的逾期邏輯，支援編輯
10. 最佳化無限事項的圖表統計時間依據，以完成時間爲準而非期限時間
11. 簡潔模式卡片也會顯示單次、無限事項的逾期時間
12. 嘗試提升倒計時功能的後臺執行存活率
13. 最佳化感想功能：
    - 預設開啟
    - 團隊任務設定頁面不顯示實際不生效的“感想”開關
    - 去除令人迷惑的感想開關記憶功能
14. 商品、倉庫清單選擇彈窗增加商品數量展示
15. 通知欄繼續計時時，也取消正在進行中的振動效果
16. 世界模組中的動態文字支援選中複製
17. 最佳化自定義成就頁面的資料重新整理動畫效果
18. 最佳化恢復邏輯，顯示“載入中”對話方塊而非直接卡死介面
19. 最佳化“崩潰彈窗”可能看不到底部按鈕的問題
20. 點選任務通知提醒，現在會跳轉到任務所在的清單頁面
21. 自定義屬性圖示，現支援選擇應用內建圖示庫
22. 最佳化“稍後閱讀”的分享操作名稱，而非直接顯示應用名
23. 最佳化成就解鎖通知，現會顯示成就描述
24. 桌面小部件進入主頁，也會自動跳轉至“委託”模組
25. 最佳化完成日事項清單後的文案顯示
26. 最佳化商品倒計時效果的操作文案和順序
27. 在隱藏所有屬性的情況下，狀態頁面也不再顯示“屬性”卡片

**🐛修復**

1. 修復一個罕見的成就解鎖彈窗崩潰問題
2. 修復桌面小部件在寬度不足的清空下，一個任務可能擠佔多行的顯示問題
3. 修復計步首次運動授權，可能會支援顯示感測器積累的總步數問題
4. 修復暫停一個倒計時，再啟動另一個倒計時會出現的崩潰或恢復錯亂問題
5. 修復可輸入商品0分鐘倒計時效果並會崩潰的問題
6. 修復在新增或編輯事項頁面，重新命名當前選中的清單，顯示的清單名稱沒有及時重新整理的問題
7. 修復“每年”重複頻次的卡片顯示異常
8. 修復自定義金幣在某些情況下不會及時生效的問題
9. 修復小部件會顯示凍結事項的問題
10. 修復自定義成就沒有顯示“長按操作”提示的問題
11. 修復“我的”頁面的總經驗值沒有統計自定義屬性經驗值的問題
12. 修復“感想”頁面在預覽圖片後的異常重新整理回到最頂的問題
13. 修復在MIUI系統下，已經啟動應用的時候，“番茄”的靜態快捷方式只會跳轉到首頁的問題
14. 修復非會員可能也會載入自定義背景的問題
15. 修復商店頁面金幣數量重新整理不及時的問題
16. 修復日曆不能翻到下一年的問題
17. 修復修改清單的名稱後，小部件上的清單名稱不會及時重新整理的問題

**🐛內測 -> 正式版的修復改動**

1. 最佳化Google Drive上傳大檔案的成功率，增加重試和最佳化分塊策略
2. 修復非中文環境下，會員可能不展示單獨自定義任務背景按鈕的問題
3. Google Drive/DropBox備份失敗，改為跳轉到了備份頁面而非WebDAV配置頁面
4. 增加Google Play校驗失敗的彈窗說明，提供資料匯出路徑
5. 「我的」頁面的暱稱跟隨會員狀態變動顏色
6. 消除大部分場景下的ATM利率浮點數誤差問題
7. 刪除本地資料時，也會同步刪除自定義背景、屬性圖片和音效檔案
8. 修復步數統計圖的異常問題
9. 修復從新建待辦事項頁面點選屬性的問號按鈕，跳轉到屬性自定義頁面編輯後，回到新建待辦事項頁面屬性未重新整理的問題
10. 自定義商品效果時，點選彈窗外部不再會自動取消彈窗，避免編輯中的內容丟失
11. 最佳化商品設定頁面的外語UI問題（俄語文字過長）
12. 嘗試修復部分機型的彩色Toast崩潰問題
13. 修復倉庫頁面選中狀態下，仍能點選使用按鈕的問題
14. 修復智慧清單中顯示已逾期單次任務的邏輯，適配新的逾期時間儲存方式
15. 在倉庫選中狀態下，切換清單應該取消選擇