# 後臺保活

## 為什麼需要設定允許後臺執行？

部分手機廠商爲了省電等引數指標，對除白名單外（QQ、微信、支付寶）的絕大多數應用的後臺執行了一刀切方案，使得應用內的一些需要後臺執行的功能無法正確執行（比如一進入後臺，番茄鍾就被殺死了）。

**將使用者指引成本轉嫁到了各個應用，操作成本轉嫁到了各位使用者。**

一般會導致出現以下現象：

- 切換到其他應用或鎖屏後，**番茄鍾、倒計時結束後不提醒或被暫停了**（前者是系統凍結了應用執行，後者是系統直接殺死了應用程序）。
- 接收不到事項的通知提醒
- 桌面小部件不會自動重新整理，或者有任務卻顯示“已經完成全部任務”。

<br/>

**這些設定是否會影響耗電量？**

理論上會有些許影響，但《人升》後臺只會執行必要的邏輯。

根據[開發工效](introduction/ergonomics.md)中的資料，後臺執行 24 小時以上的耗電量僅為不到 30 毫安時，佔比不到
1%。

## 如何設定後臺執行

### 通用設定

1. 在系統的多工管理介面，鎖定應用
2. 在系統中查詢應用的後臺管理設定（或者電源最佳化設定、或者手機管家），將人升設定為「允許後臺執行（後臺不限制）」、「允許自啟動」
3. 在《人升》中的事項設定介面，開啟「快速建立常駐通知」
4. 在使用《人升》相關功能期間，**避免開啟超級省電、免打擾之類的功能**；或者將《人升》加入白名單。
5. 避免禁用《人升》的通知許可權：只需要開啟通知許可權即可，通知裡的強度和方式可自定義



### 各個裝置設定方式

**或者直接參考飛書整理的各種裝置的設定方式：**

> 因為我們實在缺少相關手機和測試驗證的時間，直接外鏈下飛書的設定文件。
> 飛書也不像微信支付寶那樣，不屬於大部分廠商的後臺白名單應用，也需要設定後臺許可權才能正常接收資訊

[安卓裝置收不到新訊息通知怎麼辦？ (feishu.cn)](https://www.feishu.cn/hc/zh-CN/articles/360025451293)

1. [華為手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-RNpJyL)

2. [OPPO 手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-rqfhmK)

3. [Vivo 手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-xi6S8F)

4. [小米手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-uoxEk6)

5. [錘子手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-ylGl04)

6. [魅族手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-5zC9BG)

7. [三星手機](https://www.feishu.cn/hc/zh-CN/articles/360025451293#lineguid-e1tk3a)

除了文中的提醒外，各個廠商的OS也可能持續加入一些省電相關的功能。

如果開啟這類功能，也可能會影響《人升》中相關功能的使用。



---



以下是我們用僅有的幾臺裝置整理的操作方式，可能存在時效性：

### 華為/榮耀

1. 開啟設定
2. 搜尋`“應用啟動管理”`並點選
4. 找到“人升”，設定手動管理，允許自啟動



**操作截圖如下：**

![](_media/background_running/emui_01.jpg ':size=50%')

![](_media/background_running/emui_02.jpg ':size=50%')

![](_media/background_running/emui_03.jpg ':size=50%')


### 魅族

1. 開啟`手機管家`應用
2. 點選`許可權管理`
3. 點選`後臺管理`
4. 找到《人升》，選擇`允許後臺執行`
5. （可選）多工介面中，長按鎖定《人升》



**操作截圖如下：**


![](_media/background_running/flyme_01.jpg ':size=50%')

![](_media/background_running/flyme_02.jpg ':size=50%')

![](_media/background_running/flyme_03.jpg ':size=50%')
