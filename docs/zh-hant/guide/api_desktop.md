<h1 align="center" padding="100">區域網（API） 桌面端 🖥 </h1>

<p align="center">
 <img src="guide/_media/api/desktop.png" />
</p>


我們使用《人升》的API能力開發了一款簡易的區域網電腦端的《人升》，它支援 Windows、Linux、MacOS 等多端。

**但請注意，它並非一款可獨立執行的程式。它需要透過 API 讀取到你手機上《人升》裡的離線資料。**

<br/>

## 特性

- **當前版本僅作為 API 介面的技術演示和預覽，主要提供一部分基礎的資訊瀏覽功能，並未覆蓋所有應用內功能。**
- 完全開源，你可以隨意更改它的 UI 並實現自己想要的功能
- 基礎功能：
  - 查詢任務列表、完成任務
  - 查詢屬性列表、等級
  - 查詢商品列表、購買商品
  - 查詢感想列表，並能夠透過電腦圖片瀏覽器檢視大圖
  - ...



<br/>

---



## 下載

- **[Windows 版本](http://lifeupcdnpic.cdn.dfyun.com.cn/download/release/desktop/LifeUp_Desktop-1.0.1.msi)**
- Linux（未經測試，後續釋出）
- MacOS（未經測試，後續釋出）

⚠你需要搭配《雲人升》v1.1.2 版本或以上進行使用。當前《雲人升》不支援檢測更新，你可以在[這裏下載並覆蓋安裝](http://lifeupcdnpic.cdn.dfyun.com.cn/download/release/cloud/lifeup_cloud_1.1.2.apk)。

⚠你的瀏覽器的安全策略可能會阻止下載。

<br/>



---



## 如何使用

影片教程後續補充。

爲了使用桌面端，會需要一點點操作步驟：

### 初次使用

#### 前置措施

- 你的手機和電腦處於同一區域網（比如連至同一WIFI）。
- ⚠如果你的組網情況很複雜，請先嚐試能否在電腦上 ping 通手機的 IP 地址再做嘗試。

<br/>

#### 手機端

1. 更新你的《人升》至最新版本

2. 在《人升》-`設定`-`實驗`中，找到《雲人升》並下載安裝。

   我們的桌面版需要它來讀取資料和執行操作。

3. 執行《雲人升》，給予懸浮窗許可權、人升資料讀取許可權。

4. 在《雲人升》中點選`開啟服務`。



**額外步驟**

- 我們建議你為《人升》、《雲人升》都進行`相容性配置`，關閉電池最佳化，避免系統錯誤殺死應用、**以及支援手機鎖屏後使用**。
- **如果你的手機是 MIUI 系統（小米、紅米），請確保你為《人升》、《雲人升》都允許了「後臺顯示介面」許可權。**
- 請確保《人升》、《雲人升》都在執行。

<br/>


#### 電腦端

1. 透過上文中的下載連結，下載並安裝電腦端應用。
2. 在桌面版的設定頁面填上你的《雲人升》中的顯示的服務 IP 地址。
3. 大功告成~如果正常的話，你應該能夠在桌面版檢視到你的人升資料。
   - **如果失敗的話，你可能要上述的額外步驟。**



<br/>

### 非初次使用

1. 手機上開啟《人升》、《雲人升》
2. 在《雲人升》中點選`開啟服務`
3. 執行桌面端


---



<br/>

## 常見問題

**桌面端能否新增任務？**

暫時不能，目前的預覽版本主要提供的是資料查詢能力，該功能會在後續版本開發。

但當前階段，你也能夠透過《雲人升》呼叫 API 來新增任務。

**《雲人升》點選“讀取「人升」資料許可權”後無反應，或者顯示 API 不存在？**

1. 如果是無反應，那麼應該你之前已經授權過，當作成功即可。
2. 如果顯示 API 不存在，請加入會員內測，然後更新《人升》最新版本。

**手機鎖屏一段時間後，桌面端沒法讀取資料和使用？**

請為《人升》-《雲人升》進行相容性配置。

**《人升》、《雲人升》處於後臺時，部分介面沒法正常呼叫？**

> 這一點理論上不影響桌面端使用，但可能會影響自定義呼叫 API。

請確保了你授權了《雲人升》的懸浮窗許可權。

如果你是 MIUI 系統（小米、紅米），你還需要額外為這兩個應用，在系統設定中，配置`後臺顯示介面`許可權。


---



<br/>

## 貢獻

SDK、《雲人升》、《桌面端》皆為開源專案。

你可以在以下連結獲取到原始碼並使用 IDEA 執行：

- [Ayagikei/LifeUp-SDK: Provide LifeUp SDK, and expose LifeUp APIs as HTTP services! (github.com)](https://github.com/Ayagikei/LifeUp-SDK)
- [Ayagikei/LifeUp-Desktop (github.com)](https://github.com/Ayagikei/LifeUp-Desktop)
